{
  "builders": [
    {
      "changes": [
        "VOLUME /data",
        "WORKDIR /data",
        "ENTRYPOINT /bin/bash"
      ],
      "commit": true,
      "image": "toolisticon/base-builder-image",
      "pull": false,
      "type": "docker"
    }
  ],
  "post-processors": [
    [
      {
        "repository": "toolisticon/openjdk11-builder",
        "tags": [
          "{{user `image_tag`}}"
        ],
        "type": "docker-tag"
      }
    ]
  ],
  "provisioners": [
    {
      "extra_arguments": [
        "-v"
      ],
      "playbook_file": "ansible/openjdk11.yml",
      "type": "ansible",
      "user": "root"
    }
  ],
  "variables": {
    "image_tag": "{{env `IMAGE_TAG`}}"
  }
}

